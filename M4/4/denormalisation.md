# Денормализация

**Цель** — ускорить запросы за счёт нарушения нормальных форм  
**Когда** — только после 3НФ и выше, иначе бардак

## 4 главных приёма (запомни именно так)

| Приём                  | Что делаем                                      | Зачем                                          |
|------------------------|-------------------------------------------------|------------------------------------------------|
| 1. Дублирование        | Копируем поля в другую таблицу (name, price…)   | Убираем JOIN                                   |
| 2. Свертывание         | Храним уже посчитанные итоги (total, cnt)       | Не считаем SUM/COUNT каждый раз                |
 back| 3. Горизонтальное разбиение | Таблица → много маленьких (по году/региону)     | Меньше строк в каждой → быстрее индексы        |
| 4. Вертикальное разбиение   | Горячие столбцы ↔ холодные (1:1)                | SELECT читает меньше данных → меньше I/O       |

## Примеры (самые частые на экзамене)

```text
Было: Orders → JOIN Customers
Стало: Orders.customer_name, Orders.customer_city

Было: total = SUM(price*quantity)
Стало: Orders.total_amount (хранится)

Было: Sales (10 лет)
Стало: Sales_2023, Sales_2024…

Было: Users (50 полей)
Стало: UsersHot (10 полей) + UsersCold (40 полей)
